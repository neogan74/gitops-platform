# ExternalSecret that syncs demo secrets from ESO
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: demo-app-secrets
  labels:
    app: demo-app-go
spec:
  # Sync every hour
  refreshInterval: 1h

  # Reference to the cluster-wide secret store
  secretStoreRef:
    name: demo-store
    kind: ClusterSecretStore

  # Kubernetes Secret to create
  target:
    name: demo-app-secrets
    creationPolicy: Owner
    deletionPolicy: Retain

  # Secret data mappings
  data:
    # API key for external service integration
    - secretKey: api-key
      remoteRef:
        key: demo-api-key

    # Database password (for demo purposes)
    - secretKey: db-password
      remoteRef:
        key: demo-db-password
